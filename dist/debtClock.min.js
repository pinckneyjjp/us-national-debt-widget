"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),DebtClock=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,e),this.elementId=t.elementId||"debtClock",this.element=document.getElementById(this.elementId),this.currency=t.currency||"$",this.decimalLength=t.decimalLength||0,this.updateInterval=t.updateInterval||100,this.autoUpdate=t.autoUpdate||!0,this.elapsedTenths=1,this.customCalculateFunction=t.customCalculateFunction||null,this.perSecondDebt=32026.4,this.perTenthDebt=this.perSecondDebt/10,this.baseDebt="undefined"!=typeof t.baseDebt?t.baseDebt:19064879099682.52,this.baseDebtYear=t.baseDebtYear||2016,this.baseDebtMonth=t.baseDebtMonth||2,this.baseDebtDay=t.baseDebtDay||24,this.baseDebtDate=new Date(this.baseDebtYear,this.baseDebtMonth-1,this.baseDebtDay),this.now=new Date,this.go()}return _createClass(e,[{key:"calculate",value:function(){return"function"==typeof this.customCalculateFunction?this.customCalculateFunction():(this.elapsedTenths=Math.ceil((this.now.getTime()-this.baseDebtDate.getTime())/100),this.elapsedTenths*this.perTenthDebt+this.baseDebt)}},{key:"go",value:function(){var e=this;this.updateElement(),this.autoUpdate&&!function(){var t=e;setInterval(function(){t.now=new Date,t.updateElement()},e.updateInterval)}()}},{key:"formatAmount",value:function(){return this.calculate().formatMoney(this.decimalLength)}},{key:"toString",value:function(){return'<span class="currency">'+this.currency+'</span><span class="amount">'+this.formatAmount()+"</span>"}},{key:"updateElement",value:function(){this.element.innerHTML=this.toString()}}]),e}();Number.prototype.formatMoney=function(e,t,n){e=isNaN(e=Math.abs(e))?2:e,t=void 0===t?".":t,n=void 0===n?",":n;var a=this,s=0>a?"-":"",i=parseInt(a=Math.abs(+a||0).toFixed(e))+"",u=(u=i.length)>3?u%3:0;return s+(u?i.substr(0,u)+n:"")+i.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(a-i).toFixed(e).slice(2):"")};